<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Maintenance Evolution - V0 AI Predictive Maintenance</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
  </head>
  <body>
  <!-- Include Navbar (unchanged) -->
  <nav class="top-nav">
    <div class="nav-left">
      <div class="brand">
        <div class="brand-text">
          <div class="brand-title">V0 AI</div>
          <div class="brand-sub">Predictive Maintenance</div>
        </div>
      </div>
    </div>

    <div class="nav-center">
      <a href="/faq" class="nav-link">FAQ</a>

      <!-- About Dropdown -->
      <div class="nav-dropdown">
        <button class="nav-link dropdown-toggle">About â–¾</button>
        <div class="dropdown-menu">
          <a href="/about-us" class="dropdown-item">About Us</a>
          <div class="dropdown-submenu">
            <button class="dropdown-item submenu-toggle">
              About Project â€º
            </button>
            <div class="submenu-content">
              <a href="/about-modal" class="dropdown-item">About Model</a>
              <a href="/modal-evaluation" class="dropdown-item">Model Evaluation</a>
              <a href="/data-collection" class="dropdown-item">Data Collection</a>
            </div>
          </div>
        </div>
      </div>

      <!-- More Dropdown -->
      <div class="nav-dropdown">
        <button class="nav-link dropdown-toggle">More â–¾</button>
        <div class="dropdown-menu">
          <a href="/maintenance-evolution" class="dropdown-item">Maintenance Evolution</a>
          <a href="/future-scope" class="dropdown-item">Future Scope</a>
        </div>
      </div>
    </div>

    <div class="nav-right">
      <button class="icon-btn" id="themeToggle" aria-label="Toggle theme">
        <span id="themeIcon">ğŸŒ™</span>
      </button>
      <a href="/trymodel" class="btn-try">TRY MODEL</a>
    </div>
  </nav>

  <!-- Main Content: 5 Sections (each with hero + 3 features + divider) -->
  <main class="main-content" id="main-content">
    <!-- SECTION 1 -->
    <section class="hero hero-section" id="section-1">
      <div class="hero-left">
        <h1>Evolution Stage 1 â€” Overview</h1>
        <p class="lead">
          Predictive maintenance evolved from reactive maintenance into an AI-driven process analyzing sensor data to forecast failures before they occur, reducing costs and downtime significantly over time. <!-- add extra text to test overflow -->
        </p>
        <!-- Read More button will be inserted by JS only when needed -->
      </div>

      <div class="hero-art">
        <img src="static/hero-1.jpg" alt="Stage 1 preview" />
      </div>
    </section>

    <section class="features" aria-labelledby="section-1-features">
      <div class="feature-card"><h3>ğŸ§  Smart Analytics</h3><p>Machine learning enables pattern recognition for early anomaly detection.</p></div>
      <div class="feature-card"><h3>ğŸ“ˆ Continuous Monitoring</h3><p>Real-time data from sensors enhances accuracy of predictions.</p></div>
      <div class="feature-card"><h3>âš™ï¸ Cost Reduction</h3><p>Maintenance schedules are optimized to minimize unnecessary interventions.</p></div>
    </section>

    <div class="section-divider" aria-hidden="true"></div>

    <!-- SECTION 2 -->
    <section class="hero hero-section" id="section-2">
      <div class="hero-left">
        <h1>Evolution Stage 2 â€” Data Collection</h1>
        <p class="lead">
          Before predictive models, maintenance relied heavily on time-based schedules and manual inspections, which created inefficiencies and left room for unexpected failures.
        </p>
      </div>

      <div class="hero-art">
        <img src="static/hero-2.jpg" alt="Stage 2 preview" />
      </div>
    </section>

    <section class="features" aria-labelledby="section-2-features">
      <div class="feature-card"><h3>ğŸ“… Scheduled Checks</h3><p>Machines were serviced at fixed intervals regardless of condition.</p></div>
      <div class="feature-card"><h3>ğŸ‘· Manual Labor</h3><p>Inspections required extensive human expertise and time.</p></div>
      <div class="feature-card"><h3>ğŸ’¸ High Costs</h3><p>Over-maintenance led to unnecessary part replacements and expenses.</p></div>
    </section>

    <div class="section-divider" aria-hidden="true"></div>

    <!-- SECTION 3 -->
    <section class="hero hero-section" id="section-3">
      <div class="hero-left">
        <h1>Evolution Stage 3 â€” Sensor Integration</h1>
        <p class="lead">
          Industrial IoT introduced vibration, temperature, and current sensors that continuously collect time-series data from machines, enabling richer analysis.
        </p>
      </div>

      <div class="hero-art">
        <img src="static/hero-3.jpg" alt="Stage 3 preview" />
      </div>
    </section>

    <section class="features" aria-labelledby="section-3-features">
      <div class="feature-card"><h3>ğŸ“Š Data Streams</h3><p>Continuous monitoring creates rich time-series datasets.</p></div>
      <div class="feature-card"><h3>âš¡ Fast Detection</h3><p>Abnormalities can be flagged in near real-time.</p></div>
      <div class="feature-card"><h3>ğŸŒ IoT Integration</h3><p>Devices are connected through secure industrial networks.</p></div>
    </section>

    <div class="section-divider" aria-hidden="true"></div>

    <!-- SECTION 4 -->
    <section class="hero hero-section" id="section-4">
      <div class="hero-left">
        <h1>Evolution Stage 4 â€” Modeling</h1>
        <p class="lead">
          Deep learning models (CNNs, LSTMs) analyze multivariate sensor data, improving failure detection and Remaining Useful Life (RUL) estimation.
        </p>
      </div>

      <div class="hero-art">
        <img src="static/hero-4.jpg" alt="Stage 4 preview" />
      </div>
    </section>

    <section class="features" aria-labelledby="section-4-features">
      <div class="feature-card"><h3>ğŸ§© Hybrid Models</h3><p>Combination of CNNs and RNNs captures spatial-temporal features.</p></div>
      <div class="feature-card"><h3>ğŸ” Fault Classification</h3><p>AI classifies fault types like misalignment and bearing issues.</p></div>
      <div class="feature-card"><h3>ğŸ•’ RUL Estimation</h3><p>Accurately predicts Remaining Useful Life for each component.</p></div>
    </section>

    <div class="section-divider" aria-hidden="true"></div>

    <!-- SECTION 5 -->
    <section class="hero hero-section" id="section-5">
      <div class="hero-left">
        <h1>Evolution Stage 5 â€” Future Scope</h1>
        <p class="lead">
          The future lies in federated learning, edge computing, and autonomous scheduling that continuously adapt from live production data.
        </p>
      </div>

      <div class="hero-art">
        <img src="static/hero-5.jpg" alt="Stage 5 preview" />
      </div>
    </section>

    <section class="features" aria-labelledby="section-5-features">
      <div class="feature-card"><h3>ğŸ§  Federated AI</h3><p>Models learn from distributed data across multiple plants securely.</p></div>
      <div class="feature-card"><h3>ğŸŒ Edge Processing</h3><p>Local computation reduces latency and improves real-time decisions.</p></div>
      <div class="feature-card"><h3>ğŸ¤ Self-Maintaining Systems</h3><p>Systems adapt autonomously, reducing human intervention.</p></div>
    </section>

    <div class="section-divider" aria-hidden="true"></div>
  </main>

  <!-- JS: read-more check, modal creation, blur background, and accessibility -->
  <script>
    // Smooth scroll to features (kept from original)
    function scrollToFeatures() {
      document.getElementById("features")?.scrollIntoView({ behavior: "smooth" });
    }

    // Theme toggle + nav behaviour (kept unchanged)
    (function () {
      const themeToggle = document.getElementById("themeToggle");
      const themeIcon = document.getElementById("themeIcon");
      const root = document.documentElement;

      const savedTheme = localStorage.getItem("theme") || "light";
      root.setAttribute("data-theme", savedTheme);
      themeIcon.textContent = savedTheme === "dark" ? "â˜€ï¸" : "ğŸŒ™";

      themeToggle?.addEventListener("click", () => {
        const currentTheme = root.getAttribute("data-theme");
        const newTheme = currentTheme === "dark" ? "light" : "dark";
        root.setAttribute("data-theme", newTheme);
        localStorage.setItem("theme", newTheme);
        themeIcon.textContent = newTheme === "dark" ? "â˜€ï¸" : "ğŸŒ™";
      });

      document.querySelectorAll(".dropdown-toggle").forEach((toggle) => {
        toggle.addEventListener("click", function (e) {
          e.stopPropagation();
          const parent = this.parentElement;
          const isOpen = parent.classList.contains("active");
          document.querySelectorAll(".nav-dropdown").forEach((d) => d.classList.remove("active"));
          if (!isOpen) parent.classList.add("active");
        });
      });

      document.querySelectorAll(".submenu-toggle").forEach((toggle) => {
        toggle.addEventListener("click", function (e) {
          e.stopPropagation();
          this.parentElement.classList.toggle("active");
        });
      });

      document.addEventListener("click", () => {
        document.querySelectorAll(".nav-dropdown").forEach((d) => d.classList.remove("active"));
        document.querySelectorAll(".dropdown-submenu").forEach((d) => d.classList.remove("active"));
      });
    })();

    // --- Read More + Modal logic for all hero sections ---
    document.addEventListener("DOMContentLoaded", () => {
      const mainEl = document.getElementById("main-content");

      document.querySelectorAll(".hero-section").forEach((section, idx) => {
        const left = section.querySelector(".hero-left");
        const lead = left.querySelector(".lead");

        // Check overflow (give a small delay for fonts/images)
        setTimeout(() => {
          const overflowing = lead.scrollHeight > left.clientHeight + 1;
          if (overflowing) {
            // create a read more button (use existing btn styles)
            const btn = document.createElement("button");
            btn.className = "btn-primary read-more-btn";
            btn.type = "button";
            btn.textContent = "Read More";
            btn.setAttribute("aria-haspopup", "dialog");
            btn.setAttribute("aria-controls", "modal-" + (idx + 1));
            left.appendChild(btn);

            // create modal (one per section) and append to body
            const modal = document.createElement("div");
            modal.id = "modal-" + (idx + 1);
            Object.assign(modal.style, {
              display: "none",
              position: "fixed",
              inset: "0",
              zIndex: 1200,
              display: "flex",
              alignItems: "center",
              justifyContent: "center",
              background: "rgba(0,0,0,0.45)",
              backdropFilter: "blur(4px)"
            });
            modal.setAttribute("role", "dialog");
            modal.setAttribute("aria-modal", "true");

            const modalContent = document.createElement("div");
            Object.assign(modalContent.style, {
              background: "var(--glass)",
              padding: "1.6rem",
              borderRadius: "12px",
              maxWidth: "760px",
              width: "90%",
              maxHeight: "80vh",
              overflowY: "auto",
              boxShadow: "var(--card-shadow)",
              position: "relative"
            });

            // close button
            const closeBtn = document.createElement("button");
            closeBtn.innerHTML = "&times;";
            closeBtn.className = "alert-close";
            Object.assign(closeBtn.style, {
              position: "absolute",
              right: "12px",
              top: "8px",
              fontSize: "1.6rem",
              background: "none",
              border: "none",
              cursor: "pointer",
              color: "var(--muted)"
            });
            closeBtn.setAttribute("aria-label", "Close dialog");

            // populate modal title + content by cloning heading + full lead content
            const heading = left.querySelector("h1") ? left.querySelector("h1").cloneNode(true) : null;
            const fullLead = left.querySelector(".lead") ? left.querySelector(".lead").cloneNode(true) : null;

            if (heading) modalContent.appendChild(heading);
            if (fullLead) modalContent.appendChild(fullLead);
            modalContent.appendChild(closeBtn);
            modal.appendChild(modalContent);
            document.body.appendChild(modal);

            // open modal
            btn.addEventListener("click", () => {
              modal.style.display = "flex";
              // blur & disable background scroll
              mainEl.style.filter = "blur(4px) saturate(0.95)";
              document.documentElement.style.overflow = "hidden";
              // move focus into modal for accessibility
              closeBtn.focus();
            });

            // close handlers
            closeBtn.addEventListener("click", () => {
              modal.style.display = "none";
              mainEl.style.filter = "";
              document.documentElement.style.overflow = "";
              btn.focus();
            });

            modal.addEventListener("click", (e) => {
              if (e.target === modal) {
                modal.style.display = "none";
                mainEl.style.filter = "";
                document.documentElement.style.overflow = "";
                btn.focus();
              }
            });

            // close on Escape
            document.addEventListener("keydown", (e) => {
              if (e.key === "Escape" && modal.style.display === "flex") {
                modal.style.display = "none";
                mainEl.style.filter = "";
                document.documentElement.style.overflow = "";
                btn.focus();
              }
            });
          }
        }, 60);
      });
    });
  </script>
</body>

</html>
